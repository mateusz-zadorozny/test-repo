!function(){"use strict";var e,t={853:function(){var e=window.wp.blocks;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t.apply(this,arguments)}var a=window.wp.element,n=window.wp.i18n,l=window.wp.blockEditor,r=window.wp.components;function o(e){let{dataId:t,image:o,title:c,linkUrl:d,logo:s,productsNumber:m,onRemoveHandler:i,onMoveProduct:u,setAttributes:p,onSelectItemImage:g,onSelectItemLogo:v,onSelectItemLink:_,onChangeItemTitle:h}=e;return(0,a.createElement)(a.Fragment,null,m>0&&!!t&&0!=t&&t!=m-1&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.Button,{variant:"secondary",className:"me-2",onClick:()=>onMoveImage(t,-1)},"Up"),(0,a.createElement)(r.Button,{variant:"secondary",className:"me-2",onClick:()=>onMoveImage(t,1)},"Down")),m>1&&0==t&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.Button,{variant:"secondary",className:"me-2",onClick:()=>onMoveImage(t,1)},"Down")),m>1&&t==m-1&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.Button,{variant:"secondary",className:"me-2",onClick:()=>onMoveImage(t,-1)},"Up")),(0,a.createElement)("div",{className:"productCards__card"},(0,a.createElement)("figure",{className:"productCards__card-imgBox",key:t,"data-id":t},(0,a.createElement)(l.MediaUpload,{onSelect:e=>g(e,t),allowedTypes:"image",className:"productCards__card-img-url",value:o,render:e=>{let{open:l}=e;return(0,a.createElement)(r.Button,{className:o?"image-button product-card-img":"button small mb-3",onClick:l},o?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("img",{className:"productCards__card-img",src:o,alt:(0,n.__)("Upload Image","products-card")}),(0,a.createElement)(r.Button,{className:"remove-card-img",onClick:()=>g(null,t)},"remove image")):(0,n.__)("Upload Image","productsCard-upload"))}})),(0,a.createElement)("div",{className:"productCards__card-product w-100"},(0,a.createElement)("span",{className:"productCards__card-span"}),(0,a.createElement)("div",{className:"productCards__card-bottom"},(0,a.createElement)(l.RichText,{tagName:"h3",className:"productCards__card-title",value:c,allowedFormats:["core/bold","core/italic"],onChange:e=>h(e,t),placeholder:(0,n.__)("Insert title...")}),(0,a.createElement)(l.MediaUpload,{onSelect:e=>v(e,t),allowedTypes:"image",className:"productCards__card-logo-url",value:s,render:e=>{let{open:l}=e;return(0,a.createElement)(r.Button,{className:s?"image-button":"button small mb-3",onClick:l},s?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("img",{className:"productCards__card-logo",src:s,alt:(0,n.__)("Upload Image","products-card")}),(0,a.createElement)(r.Button,{onClick:()=>v(null,t)},"remove image")):(0,n.__)("Upload Image","counters-section"))}}),(0,a.createElement)(l.RichText,{tagName:"a",className:"productCards__card-linkUrl link-container",placeholder:"Add link",value:d,onChange:e=>_(e,t),type:"button"})))),(0,a.createElement)("div",null,(0,a.createElement)(r.Button,{onClick:()=>i(t),className:"removeBtn components-button me-2",variant:"secondary",isDestructive:!0,product:"no-alt"},"Remove Product")))}var c=JSON.parse('{"u2":"create-block/products-cards-module"}');(0,e.registerBlockType)(c.u2,{edit:function(e){const c=(0,l.useBlockProps)(),{attributes:{title:d,content:s,contentLinkText:m,contentLink:i,products:u},setAttributes:p}=e,g=()=>{let e=0,t=[];u&&0!==u.length?(e=u.length-1+1,t=[...u,{dataId:e,title:"",image:"",logo:"",linkUrl:""}]):t=[{dataId:e,title:"",image:"",logo:"",linkUrl:""}],t.sort(((e,t)=>e.dataId-t.dataId)),p({products:t})},v=(e,t)=>{const a=u.map((a=>a.dataId===t?null===e?{...a,image:null}:{...a,image:e.url}:a));p({products:a})},_=(e,t)=>{const a=u.map((a=>a.dataId===t?null===e?{...a,logo:null}:{...a,logo:e.url}:a));p({products:a})},h=(e,t)=>{const a=u.map((a=>a.dataId===t?null===e?{...a,linkUrl:null}:{...a,linkUrl:e}:a));p({products:a})},E=e=>{const t=u.filter((t=>t.dataId!==e));t.map(((e,t)=>e.dataId=t)),p({products:t})},k=(e,t)=>{const a=u.findIndex((t=>t.dataId===e)),n=u[a],l=u.filter((t=>t.dataId!==e));l.splice(a+t,0,n),l.map(((e,t)=>e.dataId=t)),p({products:l})},N=(e,t)=>{const a=u.map((a=>a.dataId===t?null===e?{...a,title:null}:{...a,title:e}:a));p({products:a})};return(0,a.createElement)("section",t({className:"wp-block-create-block-products-cards-module"},c),(0,a.createElement)("div",{className:"container"},(0,a.createElement)("div",{className:"productCards"},(0,a.createElement)("div",{className:"row"},(0,a.createElement)("div",{className:"col-sm-12 col-lg-3"},(0,a.createElement)("div",{className:"productCards__content"},(0,a.createElement)(l.RichText,{tagName:"h2",className:"productCards__header",value:d,allowedFormats:["core/bold","core/italic"],onChange:e=>p({title:e}),placeholder:(0,n.__)("Insert block title here...")}),(0,a.createElement)(l.RichText,{tagName:"p",className:"productCards__text mobile-hide",value:s,allowedFormats:["core/bold","core/italic"],onChange:e=>p({content:e}),placeholder:(0,n.__)("Insert block content here...")}),(0,a.createElement)("div",{className:"me-2"},(0,a.createElement)(l.RichText,{tagName:"a",className:"button secondary mobile-hide",placeholder:"Add link text",value:m,onChange:e=>p({contentLinkText:e}),type:"button"})),(0,a.createElement)("div",{className:"mt-2"},(0,a.createElement)(l.__experimentalLinkControlSearchInput,{placeholder:"Search button link here...",className:"productCards__content-link",renderSuggestions:e=>(e=>{var t=e.suggestions,n=e.handleSuggestionClick;return(0,a.createElement)("div",{className:"components-dropdown-menu__menu"},t.map(((e,t)=>(0,a.createElement)("div",{onClick:()=>n(e),className:"components-button components-dropdown-menu__menu-product is-active has-text has-icon"},e.title))))})(e),allowDirectEntry:!0,withURLSuggestion:!1,value:i,onChange:e=>p({contentLink:e}),withCreateSuggestion:!1})))),(0,a.createElement)("div",{className:"col-sm-12 col-lg-8 offset-lg-1"},(0,a.createElement)("div",{className:"productCards__row row"},u&&0!==u.length?u&&0!==u.length&&u.map((e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"col-4 col-sm-12 col-lg-4 productCards__col mb-4"},(0,a.createElement)(o,{key:e.dataId,dataId:e.dataId,image:e.image,logo:e.logo,title:e.title,linkUrl:e.linkUrl,iconsNumber:e.length,onRemoveHandler:E,onMoveProduct:k,onSelectItemImage:v,onSelectItemLogo:_,onSelectItemLink:h,onChangeItemTitle:N})),e.dataId===u.length-1&&(0,a.createElement)("div",{className:"col-4 col-sm-12 col-lg-4 productCards__col mb-4"},(0,a.createElement)("div",{className:"productCards__card add-new"},(0,a.createElement)(r.Button,{variant:"secondary",onClick:g},"Add another product")))))):(0,a.createElement)(r.Button,{variant:"secondary",onClick:g},"Add product card")),(0,a.createElement)("a",{className:"button secondary mobile-visible mt-4",href:i},m))))))}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,a,l,r){if(!a){var o=1/0;for(m=0;m<e.length;m++){a=e[m][0],l=e[m][1],r=e[m][2];for(var c=!0,d=0;d<a.length;d++)(!1&r||o>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[d])}))?a.splice(d--,1):(c=!1,r<o&&(o=r));if(c){e.splice(m--,1);var s=l();void 0!==s&&(t=s)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[a,l,r]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,r,o=a[0],c=a[1],d=a[2],s=0;if(o.some((function(t){return 0!==e[t]}))){for(l in c)n.o(c,l)&&(n.m[l]=c[l]);if(d)var m=d(n)}for(t&&t(a);s<o.length;s++)r=o[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(m)},a=self.webpackChunkproducts_cards_module=self.webpackChunkproducts_cards_module||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=n.O(void 0,[431],(function(){return n(853)}));l=n.O(l)}();