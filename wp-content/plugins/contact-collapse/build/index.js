!function(){"use strict";var e,t={384:function(){var e=window.wp.blocks;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},t.apply(this,arguments)}var a=window.wp.element,n=window.wp.i18n,l=window.wp.blockEditor,o=window.wp.components;window.React;var c=e=>{let{dataId:t,title:n,description:c,contacts:i,onAddContactBlock:r,onAddPerson:s,onChangeTitle:m,onChangeDescription:d,onChangeContactName:p,onChangeContactEmail:g,onChangeContactPhone:u,onRemoveBlock:h,onRemovePerson:I}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"contact-collapse__item open-collapse","data-id":`contactBlock-${t}`},(0,a.createElement)("div",{className:"contact-collapse__item-main"},(0,a.createElement)("div",{class:"contact-collapse__item-main-content"},(0,a.createElement)(l.RichText,{tagName:"h3",placeholder:"Add block header",value:n,onChange:e=>m(e,t)}),(0,a.createElement)(l.RichText,{tagName:"p",placeholder:"Add block description",value:c,onChange:e=>d(e,t)})),(0,a.createElement)(o.Button,{onClick:()=>h(t),className:"removeBtn small components-button me-2",variant:"secondary",isDestructive:!0,icon:"no-alt"},"Remove block"),(0,a.createElement)("span",{className:"contact-collapse__item-icon"},(0,a.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDIwIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8cGF0aCBkPSJNMTAuMjQyMyA4LjYzNjQyQzEwLjAxNTUgOC42MzY0MiA5Ljc4ODYyIDguNTY2OTIgOS42MTg1IDguNDM5NTlMMS4xMTAxMiAyLjY1NDA4QzAuODAzNzMyIDIuNDQ1ODEgMC41OTk1MzkgMi4wOTg1NCAwLjU5OTUzOSAxLjY5MzY1VjEuODA5NjFDMC41OTk1MzkgMS4xNzMxNCAxLjExMDEyIDAuNjUyMzQ0IDEuNzMzOTIgMC42NTIzNDRDMS45NjA5NiAwLjY1MjM0NCAyLjE4NzggMC43MjE4MzkgMi4zNTc5MiAwLjg0OTE3N0wxMC4yNDIzIDYuMjA2NjlMMTguMTI2OSAwLjg0OTE3N0MxOC4yOTcgMC43MjE4MzkgMTguNTIzOCAwLjY1MjM0NCAxOC43NTA3IDAuNjUyMzQ0QzE5LjM3NDcgMC42NTIzNDQgMTkuODg1MyAxLjE3MzE0IDE5Ljg4NTMgMS44MDk2MUwxOS44ODUzIDEuNjkzNjVDMTkuODg1MyAyLjA5ODU0IDE5LjY4MTEgMi40NDU4MSAxOS4zNzQ3IDIuNjU0MDhMMTAuODY2MyA4LjQzOTU5QzEwLjY5NjIgOC41NjY5MiAxMC40NjkzIDguNjM2NDIgMTAuMjQyMyA4LjYzNjQyWiIgZmlsbD0iIzVCNUI1QiIvPgo8L3N2Zz4=",alt:"icon"}))),(0,a.createElement)("div",{className:"contact-collapse__item-content"},(0,a.createElement)("hr",null),(0,a.createElement)("div",{className:"collapse__item-content"},!!i&&0!==i.length&&i.map((e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"collapse__item-content--box","data-id":`person-${e.personId}`},(0,a.createElement)(l.RichText,{className:"collapse__item-content--title",tagName:"p",placeholder:"Add name",value:e.name,onChange:a=>p("name",a,t,e.personId)}),(0,a.createElement)(l.RichText,{className:"collapse__item-content--text",tagName:"p",placeholder:"Add email",value:e.email,onChange:a=>g("email",a,t,e.personId)}),(0,a.createElement)(l.RichText,{className:"collapse__item-content--text",tagName:"p",placeholder:"Add phone number",value:e.phone,onChange:a=>u("phone",a,t,e.personId)}),(0,a.createElement)("div",{className:"my-4 d-flex align-items-center"},i.length>1&&(0,a.createElement)(o.Button,{onClick:()=>I(t,e.personId),className:"removeBtn components-button me-2",variant:"secondary",isDestructive:!0,icon:"no-alt"},"Remove person"),(0,a.createElement)(o.Button,{variant:"secondary",onClick:()=>s(t)},"Add another person"))))))))),(0,a.createElement)(o.Button,{variant:"secondary",className:"mb-5",onClick:r},"Add another contact block"))},i=e=>{let{dataId:t,title:n,socialURL:c,iconImage:i,onChangeSocialLinksProperty:r,onRemoveSocialLink:s}=e;return(0,a.createElement)("li",{className:"social-media-link__item"},(0,a.createElement)("div",{className:"social-media-link__item-main"},!!i&&(0,a.createElement)("figure",{className:"social-media-link__img-wrapper"},(0,a.createElement)("img",{className:"social-media-link__img-src",src:i.url,alt:"Social icon"})),(0,a.createElement)("div",null,(0,a.createElement)(l.RichText,{tagName:"span",className:"social-media-link__item-title mb-1",placeholder:"Add social title",allowedFormats:["core/bold","core/italic"],value:n,onChange:e=>r("title",e,t)}))),(0,a.createElement)("div",{className:"controls-panel absolute"},(0,a.createElement)("div",{className:"d-flex align-items-center justify-content-between mt-3"},(0,a.createElement)(o.Button,{onClick:()=>s(t),className:"removeBtn components-button",variant:"secondary",isDestructive:!0,icon:"no-alt"},"Remove"),(0,a.createElement)(l.MediaUpload,{onSelect:e=>r("iconImage",e,t),allowedTypes:["image"],render:e=>{let{open:t}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(o.Button,{variant:"secondary",onClick:t},"Change icon"))}})),(0,a.createElement)(l.RichText,{tagName:"p",className:"form-control text-truncate text-nowrap",placeholder:"http://",allowedFormats:[""],value:c,onChange:e=>r("socialURL",e,t)})))},r=JSON.parse('{"u2":"create-block/contact-collapse"}');(0,e.registerBlockType)(r.u2,{edit:function(e){const r=(0,l.useBlockProps)(),{setAttributes:s,attributes:{title:m,content:d,contactBlocks:p,sidebarBackgroundColor:g,socialMediaTitle:u,socialLinks:h,columnsVariant:I,sidebarTitle:N,formShortCode:k}}=e,E=(e,t)=>{e.sort(((e,t)=>e.blockId-t.blockId));const a=e.findIndex((e=>e.blockId===t));return e[a].contacts.sort(((e,t)=>e.personId-t.personId)),e},b=()=>{let e=0,t=[];p&&0!==p.length?(e=p.length-1+1,t=[...p,{blockId:e,title:"",description:"",contacts:[{personId:0,name:"",email:"",phone:""}]}]):t=[{blockId:e,title:"",description:"",contacts:[{personId:0,name:"",email:"",phone:""}]}],t.sort(((e,t)=>e.blockId-t.blockId)),s({contactBlocks:t})},v=e=>{if(!p)return;const t=p.findIndex((t=>t.blockId===e)),a=[...p.filter((t=>t.blockId!==e)),{...p[t],contacts:[...p[t].contacts,{personId:p[t].contacts.length,name:"",email:"",phone:""}]}],n=E(a,e);s({contactBlocks:n})},C=(e,t)=>{const a=p.map((a=>a.blockId===t?{...a,title:e}:a));s({contactBlocks:a})},M=e=>{s({sidebarTitle:e})},f=(e,t)=>{const a=p.map((a=>a.blockId===t?{...a,description:e}:a));s({contactBlocks:a})},x=(e,t,a,n)=>{const l=p.findIndex((e=>e.blockId===a));if(-1===l)return;const o=[...p[l].contacts].findIndex((e=>e.personId===n));if(-1===l)return;const c=p.filter((e=>e.blockId!==a)),i=p[l].contacts.filter((e=>e.personId!==n)),r=[...c,{...p[l],contacts:[...i,{...p[l].contacts[o],..."name"===e&&{name:t},..."email"===e&&{email:t},..."phone"===e&&{phone:t}}]}],m=E(r,a);s({contactBlocks:m})},y=e=>{const t=p.filter((t=>t.blockId!==e)).map(((e,t)=>({...e,blockId:t})));t.sort(((e,t)=>e.blockId-t.blockId)),s({contactBlocks:t})},A=(e,t)=>{const a=p.filter((t=>t.blockId!==e)),n=p.filter((t=>t.blockId===e)),l=n[0].contacts.filter((e=>e.personId!==t));let o=[...a,{...n[0],contacts:[...l]}];const c=E(o,e);s({contactBlocks:c})};let j="col-sm-12 col-xl-3 mb-5 mb-xl-0",_="col-sm-12 col-xl-8 offset-xl-1";"4/8"===I?"white-bg"===g?(j="col-sm-12 col-xl-4 mb-5 mb-xl-0 ps-xl-5",_="col-sm-12 col-xl-8"):(j="col-sm-12 col-xl-3 mb-5 mb-xl-0",_="col-sm-12 col-xl-8 offset-xl-1"):"8/4"===I?(j="col-sm-12 col-lg-7 mb-5",_="col-sm-12 col-lg-5 d-flex justify-content-end"):"6/6"===I&&(j="col-lg-6",_="col-lg-6");const T=(e,t,a)=>{if(!h||0===h.length)return;const n=h.map((n=>n.socialItemId===a?{...n,..."iconImage"===e&&{iconImage:t},..."socialURL"===e&&{socialURL:t},..."title"===e&&{title:t}}:n));s({socialLinks:n})},w=e=>{const t=h.filter((t=>t.socialItemId!==e)).map(((e,t)=>({...e,socialItemId:t})));t.sort(((e,t)=>e.socialItemId-t.socialItemId)),s({socialLinks:t})};return(0,a.createElement)("section",t({className:"wp-block-create-block-contact-collapse"},r),(0,a.createElement)(l.InspectorControls,{key:"setting"},(0,a.createElement)("fieldset",{class:"p-3"},(0,a.createElement)("legend",{className:"icons-columns-control__label"},"Columns variant"),(0,a.createElement)(o.SelectControl,{value:I,onChange:e=>{(e=>{s({columnsVariant:e})})(e)},__nextHasNoMarginBottom:!0},(0,a.createElement)("option",{value:"4/8"},"4/8"),(0,a.createElement)("option",{value:"8/4"},"8/4"),(0,a.createElement)("option",{value:"6/6"},"6/6"))),(0,a.createElement)("fieldset",{class:"p-3"},(0,a.createElement)("legend",{className:"counters-section-control__label"},"Form short code"),(0,a.createElement)(l.PlainText,{tagName:"form",placeholder:"Add form short code",value:k,onChange:e=>s({formShortCode:e})})),(0,a.createElement)("fieldset",{class:"p-3"},(0,a.createElement)("legend",{className:"icons-columns-control__label"},"Sidebar Background color"),(0,a.createElement)(o.SelectControl,{value:g,onChange:e=>{s({sidebarBackgroundColor:e})},__nextHasNoMarginBottom:!0},(0,a.createElement)("option",{value:"white-bg"},"White"),(0,a.createElement)("option",{value:"xlgrey-bg"},"Light Grey"),(0,a.createElement)("option",{value:"lgrey-bg"},"Grey")))),(0,a.createElement)("div",{className:"container"},(0,a.createElement)("div",{className:"row"},(0,a.createElement)("div",{className:j},(0,a.createElement)("div",null,(0,a.createElement)(l.RichText,{tagName:"h2",value:m,className:"mt-0 contact-collapse-main-title",allowedFormats:["core/bold","core/italic"],onChange:e=>s({title:e}),placeholder:(0,n.__)("Insert block title here...")}),(0,a.createElement)(l.RichText,{tagName:"p",className:"content",value:d,allowedFormats:["core/bold","core/italic"],onChange:e=>s({content:e}),placeholder:(0,n.__)("Insert block content here...")})),p&&0!==p.length?(0,a.createElement)("div",{className:"contact-collapse"},0!==p.length&&p.map((e=>(0,a.createElement)(c,{key:e.blockId,dataId:e.blockId,title:e.title,description:e.description,contacts:e.contacts,onAddContactBlock:b,onAddPerson:v,onChangeTitle:C,onChangeDescription:f,onChangeContactName:x,onChangeContactEmail:x,onChangeContactPhone:x,onRemoveBlock:y,onRemovePerson:A})))):(0,a.createElement)(o.Button,{variant:"secondary",onClick:b},"Add contact block"),"4/8"!==I&&(0,a.createElement)("div",{className:"social-media"},(0,a.createElement)(l.RichText,{tagName:"h3",value:u,className:"mt-5",allowedFormats:["core/bold","core/italic"],onChange:e=>(e=>{s({socialMediaTitle:e})})(e),placeholder:(0,n.__)("Insert block title here...")}),(0,a.createElement)("ul",{className:"socials-list"},0!==h.length&&h.map((e=>{var t;return(0,a.createElement)(i,{key:e.socialItemId,dataId:e.socialItemId,socialURL:e.socialURL,title:e.title,text:e.text,iconImage:null!==(t=e.iconImage)&&void 0!==t?t:null,onChangeSocialLinksProperty:T,onRemoveSocialLink:w})})),(0,a.createElement)("li",null,(0,a.createElement)(o.Button,{variant:"secondary",onClick:()=>{let e=0,t=[];h&&0!==h.length?(e=h.length-1+1,t=[...h,{socialItemId:e,socialURL:"",title:""}]):t=[{socialItemId:e,socialURL:"",title:""}],t.sort(((e,t)=>e.socialItemId-t.socialItemId)),s({socialLinks:t})}},"Add link"))))),(0,a.createElement)("div",{className:_},(0,a.createElement)("div",{className:`${g} lgrey-bg sidebar`},"white-bg"===g?(0,a.createElement)(l.RichText,{className:"contact__sidebar--title sidebar-title",tagName:"h2",placeholder:"Add sidebar title",value:N,onChange:e=>M(e)}):(0,a.createElement)(l.RichText,{className:"contact__sidebar--title sidebar-intro",tagName:"p",placeholder:"Add sidebar title",value:N,onChange:e=>M(e)}),k&&(0,a.createElement)(o.Placeholder,{isColumnLayout:!0},(0,a.createElement)("div",{style:{backgroundColor:"#e7e7e7",padding:"56px 64px",display:"flex",justifyContent:"center"}},"Form")))))))}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=function(t,a,l,o){if(!a){var c=1/0;for(m=0;m<e.length;m++){a=e[m][0],l=e[m][1],o=e[m][2];for(var i=!0,r=0;r<a.length;r++)(!1&o||c>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[r])}))?a.splice(r--,1):(i=!1,o<c&&(c=o));if(i){e.splice(m--,1);var s=l();void 0!==s&&(t=s)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[a,l,o]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,o,c=a[0],i=a[1],r=a[2],s=0;if(c.some((function(t){return 0!==e[t]}))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(r)var m=r(n)}for(t&&t(a);s<c.length;s++)o=c[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(m)},a=self.webpackChunkcontact_collapse=self.webpackChunkcontact_collapse||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=n.O(void 0,[431],(function(){return n(384)}));l=n.O(l)}();